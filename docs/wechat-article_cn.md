# 跟着莫欣老师用 VibeCoding + Agently：6 小时做出一个“能联调、能回归”的智能 ToDo（但 ToDo 不是重点）

项目仓库：github.com/AgentEra/Agently-NexusTodo  
Agently 框架：github.com/AgentEra/Agently

我是 Agently 团队的运营同学，这篇文章是一次“采访复盘 + 项目复盘”。面向对象很明确：开发者、VC、关注 AI 应用的人，以及对“新开发范式”好奇的读者。

如果你最近刷到 “VibeCoding”，大概率会产生一种冲动：把需求丢给模型，“一路 Accept All”，然后期待它自己把项目写完。

我们也做了类似的尝试。但真正的命题并不是“写得快不快”，而是：

> Tips（文章主线）  
> VibeCoding 在“智能体/智能系统”场景里，怎么才能从“写出来”走到“跑得稳、交付得出”？

在 51CTO 的一场直播里（由 Agently 框架核心作者莫欣老师主讲），我们用 VibeCoding 的方式完成了一个端到端的智能 ToDo 系统：Go 后端 + 基于 Agently 的智能服务 + 支持流式输出的 Web 客户端。整体开发与优化约 6 小时，其中直播教学覆盖约 4 小时；Golang 后端由 TRAE 实现，其它部分由 VSCode + Codex 协作完成。

下面我按“读者能顺着读下去”的逻辑，把重点重排一遍：命题是什么、我们怎么设计、难点在哪、Agently 为什么能顶上、你自己的项目该怎么借鉴。

---

## 1) VibeCoding 的命题：难的不是写代码，是交付“带智能的系统”

如果只是写一个 ToDo，传统开发并不难；如果只是做个聊天 Demo，也不难。真正难的是把“大模型能力”嵌进一个能长期维护的系统里：

- 你要多轮对话：用户一句话不够，必须追问/承接上下文。
- 你要多次工具调用：查找信息、再决策、再写入，往往不是一次请求就结束。
- 你要流式交互：过程要可见，结果要可验，避免“看起来很聪明但最后不落地”。
- 你要可回归：不然每改一次提示词，就像拆盲盒。

> Tips（一句话带走）  
> “写出来”不难，难的是“跑起来、联起来、跑得稳”。

---

## 2) 我问莫欣老师：你最希望大家带走的关键认知是什么？

围绕“怎么把智能模块做成工程交付”这个命题，我问了莫欣老师一个问题：

> Tips（提问）  
> 你最希望观众带走的“一个关键认知”是什么？

莫欣老师给了我三句话（我把表达做了适度整理，但意思不变）：

> Tips（回答要点）  
> 1）SpecDD 不是“形式主义”，它是并行开发的起点。  
> 2）API 文档规范不是“最后补说明书”，它是联调协作的基准。  
> 3）智能模块要能落地，不能靠“硬写”，要靠框架能力 + 可执行测试把不确定性收住。

这三句话其实是在讲一件事：**你想让 VibeCoding 走向交付，第一件事不是“让模型更会写”，而是“让系统更可控”。**

---

## 3) 我们怎么设计与筹划：先把“协作基准”钉死

很多团队做 AI 应用开发，会在前期陷入一个误区：先让模型写一堆代码，等“差不多能跑”了再补文档、补测试。

但在智能体系统里，这样很容易翻车：因为智能模块的“不确定性”会把所有协作问题放大。

所以我们做了一个反直觉但很有效的选择：**先把协作基准钉死**，再放开并行推进。

具体就是三件事：

1) **SpecDD**：把目标、边界、成功标准写清楚。  
2) **API 文档规范**：把模块之间怎么说话写清楚（字段、状态码、示例请求响应）。  
3) **场景用例 / 集成脚本**：把“看起来能用”变成“跑得通、能回归”。

> Tips（给读者的直觉）  
> 联调就是照妖镜：你写得再漂亮，一联调就知道“到底谁在胡说”。

---

## 4) 我们怎么行动：先搭业务架子，再把智能能力装上去

这里选 ToDo 不是为了做一个“更好的 ToDo”，而是为了搭一个最小但完整的试验台：  
用最简单的业务场景，把智能体系统开发里最难的那几件事（多轮对话、工具调用、流式交互、回归验证）一次性跑通。

NexusTodo 的整体架构很简单，可以理解成三块拼图：

1) **ToDo 后端（Go）**  
提供最基础、最稳定的一层：任务的增删改查 API、数据持久化、设备/用户标识等。它的角色很清晰：做“事实来源”，让上层智能有可靠落点。

2) **Web 客户端（前端）**  
先把 UI 和交互体验跑起来：列表展示、聊天输入、流式输出的气泡、最终的任务卡片。它的角色是把“过程讲清楚”：进行中输出 vs 最终结论分层清晰。

3) **智能服务（Python，auto_agent，基于 Agently）**  
这是“装上去的大脑”：负责理解自然语言、多轮对话、工具调用（多次请求 ToDo 后端做查询/写入）、以及把过程以流式方式推给前端。

我们的开发顺序也符合这个结构：  
先把 ToDo 场景的后端 + 客户端基础架子搭好，让接口与体验都可跑通；然后在这个基础上，通过 auto_agent 把“智能能力”加进来，并用真实接口的场景用例一轮轮打磨到可用。

---

## 5) 难点在哪：为什么“硬写智能模块”容易翻车？

我在直播里继续追问莫欣老师：

> Tips（提问）  
> 如果真的让模型把智能模块“硬写到底”，最常见的坑会是什么？

莫欣老师的判断是：很多坑并不“高级”，但会在真实项目里反复出现。这里我也结合一些公开讨论/研究里反复出现的风险做个归纳：

1) **“Accept All” 会放大不可控性**  
代码越写越多，你越来越不理解它，修 bug 变成“碰运气”。

2) **质量回归会拖长尾巴**  
看起来产出快，但后续返工、review、修 bug 的成本会把优势吃掉。

3) **安全与过度自信是危险组合**  
代码更容易带坑，同时人更容易“以为没坑”。

4) **供应链风险更容易被触发**  
幻觉依赖、包名混淆等路径在 AI 时代更常见、更隐蔽。

---

## 6) Agently 为什么对 VibeCoding 特别适配：把不确定性拆成工程原语

接着我把话题拉回“为什么是 Agently”：

> Tips（提问）  
> 为什么不让模型把智能模块直接硬写到底？为什么要引入 Agently 这样的框架？

莫欣老师的回答很直接：如果没有框架，VibeCoding 很容易变成“prompt 玄学 + 解析地狱 + 线上返工”。而 Agently 在这次项目里，提供的是一组“把不确定性收住”的工程原语：

1) **结构化输出：先把输出变成“可校验的数据”**  
通过 Output Format（结构化输出格式）+ Ensure Keys（关键字段兜底），我们让智能服务输出“可校验的结构化结果”，避免“解释一大堆但关键字段缺失”的不稳定。

2) **流程编排：把多步任务写成可读、可调、可测的流程**  
通过 TriggerFlow（信号驱动编排），把“多轮对话 + 多次工具调用 + 条件分支”表达成清晰的流程，而不是一坨 if-else。

3) **流式交互：过程可见，结论可验，前端体验可控**  
把“过程”和“结论”分开，避免前端反复刷卡、反复刷同一段结果；同时限制最多 10 步，避免无限循环。

> Tips（这一段的落点）  
> Agently 的价值不在“让模型更会说”，而在“让系统更可控”：可约束、可编排、可验证。

---

## 7) 如果换成你的项目：这 3 类问题最值得“照着用一次”

很多读者看完会问：这些听起来都对，但落到我自己的项目上，我到底该从哪儿下手？

我把它收敛成 3 类最常见的“卡点”，你可以对照自己现在的处境：

1) **你卡在“模型听不懂 / 输出不稳定”**  
症状：同一个需求每次输出都不一样；字段缺失；解析靠正则；一改提示词全崩。  
可以试试：先把输出变成“合同式结构”，用 Output Format + Ensure Keys 把关键字段兜住，再谈“聪明”。

2) **你卡在“多步任务做不完 / 反复兜圈”**  
症状：查了信息不继续写；写操作前反复澄清；循环调用工具；前端重复刷同一张卡片。  
可以试试：把流程显式化，用 TriggerFlow 把“什么时候该查、什么时候该写、什么时候该停”写清楚；同时用可执行场景用例去卡住回归。

3) **你卡在“能跑但不敢交付 / 联调全靠人肉”**  
症状：UI 看起来能用，但一联调就发现数据不一致；线上问题难复现；功能越多越不敢改。  
可以试试：把 SpecDD + API 文档规范当成第一产物，把真实接口集成用例当成验收门槛，让“能用”变成“可回归、可迭代”。

---

## 8) 只要对 AI 应用开发有爱，谁来都欢迎

我最后问莫欣老师：

> Tips（提问）  
> 如果读者想入门、想上手，最重要的一句话是什么？

莫欣老师的回答很朴素：只要你对 AI 应用开发有热情，谁来都欢迎。

如果你正在把大模型嵌进业务系统，或者想把多轮对话、工具调用、流式交互、复杂流程编排做得更稳，欢迎来 Agently 社区一起讨论、一起踩坑、一起把坑填平。

---

## 9) 加入 Agently 微信讨论群（官方入口）

你可以通过以下方式找到官方微信群入口：
- 访问 Agently 官网：Agently.tech
- 访问 Agently GitHub 主页：github.com/AgentEra/Agently

申请表链接（来自官方文档/README 当时的指向）：
- doc.weixin.qq.com/forms/AIoA8gcHAFMAScAhgZQABIlW6tV3l7QQf

---

## 10) 两个倡议：加入我们 & 商务合作

最后补两条信息，方便你一键找到我们：

1) **加入团队（含实习）**  
如果你对 AI 应用开发技术探索有热情，欢迎加入 Agently 团队。简历请发送至：hr@agently.tech（也欢迎实习生投递）。

2) **商务合作**  
如有商务合作需求，欢迎发送邮件至：business@agently.tech

---

## 相关阅读（公开资料）

- Karpathy X 原帖（vibe coding / accept all）：x.com/karpathy/status/1886192184808149383
- Reddit 讨论样本（vibe coding 体验与困惑）：reddit.com/r/ClaudeAI/comments/1igppfg/i_dont_know_how_to_vibe_code/
- Ars Technica 综述（vibe coding 讨论）：arstechnica.com/ai/2025/03/is-vibe-coding-with-ai-gnarly-or-reckless-maybe-some-of-both/
- The Register 报道（AI 代码缺陷/评审尾巴）：theregister.com/2025/12/17/ai_code_bugs/
- Stanford EE（bug + 安全 + 过度自信）：ee.stanford.edu/dan-boneh-and-team-find-relying-ai-more-likely-make-your-code-buggier
- arXiv（package hallucination / slopsquatting）：arxiv.org/abs/2406.10279
